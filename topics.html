<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Question Display</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
        }

        .question-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 3rem 2rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 600px;
            width: 90%;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .question-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
        }

        .question-text {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 2rem;
            color: #2c3e50;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
        }

        .question-number {
            font-size: 1rem;
            color: #7f8c8d;
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeInUp 1s ease 0.3s forwards;
        }

        .no-question {
            font-size: 1.5rem;
            color: #e74c3c;
            font-style: italic;
        }

        .refresh-btn {
            margin: 1rem 0.5rem;
            padding: 1rem 2rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            animation: fadeInUp 1s ease 0.6s forwards;
        }

        .next-btn {
            margin: 1rem 0.5rem;
            padding: 1rem 2rem;
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            animation: fadeInUp 1s ease 0.7s forwards;
        }

        .button-container {
            margin-top: 2rem;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        .category-container {
            margin-bottom: 2rem;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .category-select {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: gray;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            animation: fadeInUp 1s ease 0.4s forwards;
            min-width: 200px;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1rem;
            padding-right: 3rem;
        }

        .category-select:hover {
            transform: translateY(-2px);
            color: white;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            background: linear-gradient(45deg, #7f6698, #667eea);
        }

        .category-select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }

        .category-select option {
            background: #2c3e50;
            color: white;
            padding: 0.5rem;
        }

        .current-category {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-bottom: 1rem;
            font-style: italic;
        }

        .refresh-btn:hover {
            background: linear-gradient(45deg, #764ba2, #667eea);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .next-btn:hover {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .refresh-btn:active, .next-btn:active {
            transform: translateY(0);
        }

        .disabled {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d) !important;
            cursor: not-allowed !important;
            opacity: 0.6 !important;
        }

        .disabled:hover {
            transform: none !important;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2) !important;
        }

        .session-info {
            margin-top: 2rem;
            padding: 1rem;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 10px;
            font-size: 0.9rem;
            color: #34495e;
            opacity: 0;
            animation: fadeInUp 1s ease 0.9s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @media (max-width: 768px) {
            .question-text {
                font-size: 2rem;
            }
            
            .question-container {
                padding: 2rem 1.5rem;
                margin: 1rem;
            }

            .button-container {
                flex-direction: column;
                align-items: center;
            }

            .category-container {
                flex-direction: column;
                align-items: center;
                gap: 0.5rem;
            }

            .refresh-btn, .next-btn, .category-select {
                margin: 0.5rem 0;
                width: 80%;
            }
        }
    </style>
</head>
<body>
    <div class="question-container">
        <div class="category-container">
            <select class="category-select" id="categorySelect" onchange="selectCategory(this.value)">
                <option value="">Select a category...</option>
                <option value="all" selected>ðŸŒŸ All Questions</option>
                <option value="Friends">ðŸ‘¥ Friends</option>
                <option value="Random">ðŸŽ² Random</option>
                <option value="Interesting">ðŸ¤” Interesting</option>
                <option value="Conversation">ðŸ’¬ Conversation</option>
                <option value="Funny">ðŸ˜‚ Funny</option>
                <option value="Coworkers">ðŸ‘” Coworkers</option>
            </select>
        </div>
        <div class="current-category" id="currentCategory">Select a category to begin</div>
        <div class="question-number" id="questionNumber"></div>
        <div class="question-text" id="questionText">Choose a category above to see questions</div>
        <div class="button-container">
            <button class="next-btn disabled" id="nextBtn" onclick="moveToNextQuestion()">
                Next Question â†’
            </button>
            <button class="refresh-btn" id="refreshBtn" onclick="clearSessionAndRefresh()">
                ðŸ”„ Clear Session
            </button>
        </div>
        <div class="session-info" id="sessionInfo"></div>
    </div>

    <script>
        // Question categories
        // https://teambuilding.com/blog/random-questions#question-of-the-day
        const questionCategories = {
            all: [],  // Will be populated with all questions from other categories
            Friends: [
                "What song was or do you want to be the your first dance at your wedding?",
                "If you could have any superpower, what would it be?",
                "What song would make the best theme music for you?",
                "What is the most irrational superstition you have?",
                "What is the weirdest food combination you enjoy?",
                "What is the stupidest thing you ever did on a dare?",
                "What is the worst date you have ever been on?",
                "Who is the most embarrassing person you had a crush on?",
                "What is your idea of the perfect day?",
                "If you could swap lives with one of your friends, who would it be?",
                "Who knows the most secrets about you?",
                "What are your must-have qualities in a best friend?",
                "If you had to get a tattoo today, what would you get?",
                "If you could have free meals for life at one fast food chain, which one would you choose?",
                "What is the most embarrassing thing your parents have ever done?",
                "What is a lie or exaggeration you said to impress a crush?",
                "What is the silliest you have ever felt?",
                "When was the last time you laughed so hard that you cried?",
                "What does your mother yell at you when sheâ€™s angry?",
                "What is a telltale sign that you are upset?",
                "What is your nickname?",
                "What is the wackiest thing you ever did to help a friend?",
                "What fictional character would you most like to be friends with?",
                "What is your favorite topic to talk about?",
                "What is your preferred method of communication?",
                "Where is your happy place?",
                "Where is your secret hideout?",
                "What would your dream house look like?",
                "Which family member are you closest to?",
                "What is a habit you picked up from your parents?",
                "What is the meanest thing you ever did to a sibling or that a sibling did to you?",
                "What was your best birthday ever?",
                "What is your most treasured possession?",
                "What three words best describe me?",
                "How did we first meet?",
                "What is your favorite memory of us together?",
                "What is something you would like to do together someday?",
                "What is one goal you have for the near future?",
                "What are you looking forward to this month?",
                "What is one fact every friend should know about you?",
                "What is the best meal you have ever eaten?",
                "What is one thing that only your closest friends and family know about you?"
        ],
        Random: [
                "What do you think the meaning of life is?",
                "If money were no object, what would you do?",
                "If you found out you were going to die tomorrow, what would you do today?",
                "What is the most unexpected piece of advice you ever received?",
                "If you could ask your future self one question, what would it be?",
                "If you could tell your past self one thing, what would it be?",
                "If you could ask one question to an all-knowing being, what would it be?",
                "What do you think happens after death?",
                "What is the most profound experience you have ever had with a stranger?",
                "What is the biggest risk you have ever taken?",
                "What is an ideal that is most worth sacrificing for?",
                "What is a moment you realized you were wrong and what was the cause of this epiphany?",
                "What is one concept you cannot understand, no matter how hard you try?",
                "What is one item on your bucket list?",
                "What is your personal mantra?",
                "What event changed your perspective on life?",
                "What is the most unexpected turn your life took?",
                "If you could change one historic event, which one would it be?",
                "What is one opinion from the opposing political party you actually agree with?",
                "What quote most resonates with you?",
                "What was the most humbling moment in your life so far?",
                "How do you make the world a better place?",
                "What do you consider to be your personal calling?",
                "What do you think we owe each other as human beings?",
                "If you werenâ€™t afraid of failure, what would you do differently?",
                "What is your most treasured memory?",
                "Who from your past that youâ€™ve fallen out of touch with would you most like to reconnect with?",
                "Would you want to learn what people really thought of you?",
                "What personal quality do you most want to improve?",
                "What is the best thing in life?",
                "What is your general outlook on life?",
                "Whose advice do you value the most?",
                "What is the nicest act you secretly did for someone?",
                "How do you make tough decisions?",
                "Which moment in your life would you most like to do over?",
                "Which memory would you most like to erase, and which one would you like to remember forever?",
                "If you could relive one day of your life, which one would it be?",
                "What is something that you wish you could say to someone you love?",
                "What is something that wish someone would say to you?",
                "When did you feel safest?",
                "What would your younger self think of who you are today?",
                "What brings you the most joy?",
                "What do you want people to say about you when you are not around?",
                "What part of your identity do you believe will never change?"
                ],
        Interesting: [
                "What is your earliest memory?",
                "If you could choose a brand new name for yourself, what would it be?",
                "If you could learn one skill instantly, what would it be?",
                "If you were to write a book, what would it be about?",
                "If you suddenly had powers of invisibility, what would you use them for?",
                "What is the best business idea you have ever had?",
                "If you had to live as an animal for one year, which one would you choose and why?",
                "If you could un-invent one thing, what would it be?",
                "What is the most bizarre wrong number text or phone call you ever received?",
                "What is a behavior that you find strangely endearing or attractive?",
                "If you could read the mind of one celebrity, who would it be?",
                "What is the most unbelievable-yet-true excuse you have ever had for being late?",
                "What is your favorite word to say out loud?",
                "If you could eliminate one word from the English language, what would it be?",
                "What is something that strangers often incorrectly assume about you?",
                "What is the most thoughtful present you have ever received?",
                "What is the wildest thing that ever happened at a wedding you attended?",
                "What is your favorite simple pleasure?",
                "What is your favorite thing about yourself?",
                "What is the oddest way you ever accidentally hurt yourself?",
                "What is the best commercial you have ever seen?",
                "Somebody gives you billboard space for free. What do you put on it?",
                "What is a song that immediately takes you back to a particular moment in your life?",
                "What is a smell you associate with your childhood?",
                "What is a unique tradition your family had?",
                "What is a fictional food you would most like to try?",
                "What was something that wound up being totally different than you imagined it to be?",
                "What is one trend you wish would come back in style?",
                "Do you think you could live in outer space for a year?",
                "Do you think you could live in a plastic bubble at the bottom of the sea for one year?",
                "If money were no object, what outrageous luxury would you add to your house?",
                "What villain do you secretly cheer for?",
                "If you could make up a new holiday, what would it be?",
                "What kind of baby animal would you most love to be surrounded by?",
                "If you could have any animal as a pet, which one would you choose?"
                ],
        Conversation: [
                "What is your Harry Potter house?",
                "What is the strangest coincidence that ever happened to you?",
                "If you could only eat one food for the rest of your life, what would it be?",
                "What is one thing people would never guess about you?",
                "What is a story you love to tell, but hardly ever get a chance to?",
                "What is an unpopular opinion you hold?",
                "What is your favorite movie or TV show to quote at random?",
                "What album can you listen to again and again without getting sick of it?",
                "What book changed your life?",
                "What is one dealbreaker you have on a first date?",
                "What is the strangest thing you ever did in high school?",
                "Have you ever fallen for a scam? If so, what was it?",
                "What was the most outrageous lie you believed as a child?",
                "What activity do you waste the most time on?",
                "What technology are you most hooked on?",
                "If you could donate $100,000 to any philanthropic cause or charity organization, which one would you choose and why?",
                "What is a product or service you are willing to spend more money on to get better quality?",
                "Who is the most interesting person you know?",
                "Have you ever lost a bet? What was it? What were the consequences?",
                "What is something that never fails to make you laugh?",
                "What do you believe is overrated?",
                "What do you believe is underrated?",
                "If you could watch any movie again for the first time, what would you watch?",
                "What is your favorite holiday?",
                "What is your favorite holiday tradition?",
                "What country would you most like to visit?",
                "What is one hobby you would like to try?",
                "What is the best social psychology trick you know?",
                "What is the most random thing you have cried about?",
                "Who is the worst roommate you have ever had?",
                "What item do you collect?",
                "What is your favorite photograph of all time?",
                "What word do you use most often?",
                "What is the nicest compliment you ever received?",
                "What was the last show you binge watched?",
                "What is the most fascinating fact you know?",
                "What is the most interesting thing you heard or read in the news lately?",
                "What is your favorite kind of weather?",
                "What is your greatest new discovery?",
                "What is the most uncomfortable sensation?",
                "What is something childish that you enjoy?"],
        Funny: [
                "What is the grossest behavior you are willing to admit?",
                "What is your go-to song to belt out in the shower?",
                "What would you do if your pet suddenly started talking?",
                "What secrets do you think your pet would spill about you, if they could talk?",
                "What is the funniest misunderstanding that ever happened to you?",
                "What is the worst way someone butchered your name?",
                "What is the least amount of money you would accept to swallow a dead worm?",
                "What is something that characters do in movies that annoys you the most?",
                "Would you shave your head for $100?",
                "What is your go-to song to serenade someone with?",
                "What is the sneakiest thing you ever did as a child?",
                "What is the wittiest comeback you ever came up with?",
                "What is the most bizarre dream you have ever had?",
                "What sitcom scenario would you most like to see play out in real life?",
                "Which person in your life is most likely to secretly be a time traveler?",
                "What would be the most awkward moment to cackle like a hyena?",
                "Who would be the most awkward person to accidentally say â€œI love you,â€ to?",
                "What would be the most uncomfortable movie to watch with your parents?",
                "What is the most ridiculous outfit you have ever worn in public?",
                "Which movie monster would you have the easiest time beating in a fight?",
                "Have you ever cheated at a board game?",
                "If you were a ghost, who would you haunt?",
                "If you were forcefully granted the midas touch with one object of your choosing, which object would things turned into when you touched them?",
                "You have to pull off a museum heist. Whatâ€™s your plan?",
                "Which mythological creature would be the worst roommate?",
                "What would you say to convince a loved one that you are not an alien imposter?",
                "How do we know you are not a robot?",
                "What is the most terrible movie you legitimately enjoy?",
                "If people suddenly got paid for bad behavior, what habit would make you a fortune?",
                "What is your favorite cheesy pick-up line?",
                "If you suddenly became a giant, what would be the biggest inconvenience?",
                "If you had a shrink-ray, what would you use it for?",
                "You have Wonder Womanâ€™s lasso of truth, who do you use it on first?",
                "What is the laziest thing you have ever done?",
                "You are a conman who can infiltrate any profession. Which job do you pretend to be an expert at?",
                "If you had to smell like one kind of food for the rest of your life, what would it be?",
                "What is your best tip for messing with time travelers?",
                "If you could have a flying version of any animal as a pet, what would it be and why?",
                "If you had to have a doodle permanently tattooed onto your face, what do you think would be the easiest to live with?",
                "If you had an unlimited budget, what epic prank would you pull?"],
        Coworkers: [
                "Who is the strangest coworker you ever had?",
                "Which fictional workplace would you like to get a job at?",
                "What task do you wish people would pay you to do?",
                "If you werenâ€™t in this profession, what job would be your next choice?",
                "Who is the best boss you ever had?",
                "What is the most outrageous customer you ever had?",
                "What kind of person would be your worst nightmare to share an office with?",
                "What totally outrageous luxury would you love to have in the office?",
                "Was there ever a moment you were sure you were going to be fired but it turned out fine?",
                "What do you wish your coworkers knew about you?",
                "What is your biggest pet peeve at work?",
                "Who has had the biggest impact on your career?",
                "What is the strangest job you have ever had?",
                "What was the most stressful moment of your career so far?",
                "Who would be on your project dream team?",
                "What unusual workplace benefit would you love to receive?",
                "What is the best free food to discover in the breakroom?",
                "What is the best gift you have ever received from an employer?",
                "Describe your dream office.",
                "If you could design your own work schedule, what would it look like?",
                "Do you prefer jobs that are always busy or ones that are typically slow?",
                "Do you prefer to work alone or with a team?",
                "What job would you never want to perform?",
                "What job would you love to try for one day?",
                "What is the most out-of-your element you have ever felt at work?",
                "What is the nicest thing a teammate has ever done for you?",
                "Where would you most like to travel for work?",
                "Describe your dream day at work.",
                "What are three tools you could not do your job without?",
                "What is your dream project?",
                "Who is your dream client?",
                "What invention do you think would make your job easier?",
                "What is the most unprofessional thing you once saw someone do?",
                "What is your worst work habit?",
                "What is your best work hack?",
                "What is the best work trip you have ever taken?"],
        };

        // Populate the 'all' category with all questions from other categories
        questionCategories.all = [
            ...questionCategories.Friends,
            ...questionCategories.Random,
            ...questionCategories.Interesting,
            ...questionCategories.Conversation,
            ...questionCategories.Funny,
            ...questionCategories.Coworkers
        ];

        // Current active category and questions
        let currentCategory = null;
        let questions = [];

        // Session storage keys
        const SHOWN_QUESTIONS_KEY = 'shownQuestions';
        const CURRENT_QUESTION_KEY = 'currentQuestion';
        const CURRENT_CATEGORY_KEY = 'currentCategory';
        
        // Function to select category
        function selectCategory(category) {
            if (!category) {
                currentCategory = null;
                questions = [];
                sessionStorage.removeItem(CURRENT_CATEGORY_KEY);
            } else {
                currentCategory = category;
                questions = questionCategories[category];
                sessionStorage.setItem(CURRENT_CATEGORY_KEY, category);
            }
            
            // Update UI
            updateCategorySelect();
            updateCategoryDisplay();
            
            // Clear session data when switching categories
            clearSessionData();
            
            // Display first question of the category
            displayRandomQuestion();
        }

        // Function to update category select value
        function updateCategorySelect() {
            const categorySelect = document.getElementById('categorySelect');
            categorySelect.value = currentCategory || '';
        }

        // Function to update category display
        function updateCategoryDisplay() {
            const currentCategoryElement = document.getElementById('currentCategory');
            if (currentCategory) {
                let categoryName;
                if (currentCategory === 'all') {
                    categoryName = 'All Questions';
                } else {
                    categoryName = currentCategory.charAt(0).toUpperCase() + currentCategory.slice(1);
                }
                currentCategoryElement.textContent = `Category: ${categoryName}`;
            } else {
                currentCategoryElement.textContent = 'Select a category to begin';
            }
        }

        // Function to clear session data
        function clearSessionData() {
            sessionStorage.removeItem(SHOWN_QUESTIONS_KEY);
            sessionStorage.removeItem(CURRENT_QUESTION_KEY);
        }

        // Function to get shown questions from session storage
        function getShownQuestions() {
            const shown = sessionStorage.getItem(SHOWN_QUESTIONS_KEY);
            return shown ? JSON.parse(shown) : [];
        }

        // Function to save shown questions to session storage
        function saveShownQuestions(shownQuestions) {
            sessionStorage.setItem(SHOWN_QUESTIONS_KEY, JSON.stringify(shownQuestions));
        }

        // Function to get current question from session storage
        function getCurrentQuestion() {
            return sessionStorage.getItem(CURRENT_QUESTION_KEY);
        }

        // Function to save current question to session storage
        function saveCurrentQuestion(question) {
            sessionStorage.setItem(CURRENT_QUESTION_KEY, question);
        }

        // Function to get available questions (not yet shown)
        function getAvailableQuestions() {
            const shownQuestions = getShownQuestions();
            return questions.filter((question, index) => !shownQuestions.includes(index));
        }

        // Function to display a random question
        function displayRandomQuestion() {
            const questionTextElement = document.getElementById('questionText');
            const questionNumberElement = document.getElementById('questionNumber');
            const sessionInfoElement = document.getElementById('sessionInfo');
            const nextBtn = document.getElementById('nextBtn');

            // Check if a category is selected
            if (!currentCategory || !questions.length) {
                questionTextElement.textContent = "Choose a category above to see questions";
                questionNumberElement.textContent = "";
                sessionInfoElement.innerHTML = "";
                nextBtn.classList.add('disabled');
                return;
            }

            // Enable next button
            nextBtn.classList.remove('disabled');

            // Check if we already have a question for this session
            const currentQuestion = getCurrentQuestion();
            if (currentQuestion) {
                questionTextElement.textContent = currentQuestion;
                questionTextElement.className = 'question-text pulse';
                
                const shownQuestions = getShownQuestions();
                questionNumberElement.textContent = `Question ${shownQuestions.length} of ${questions.length}`;
                sessionInfoElement.innerHTML = `
                    <strong>Session Status:</strong><br>
                    Questions shown: ${shownQuestions.length} of ${questions.length}<br>
                    Remaining questions: ${questions.length - shownQuestions.length}
                `;
                updateButtonStates();
                return;
            }

            const availableQuestions = getAvailableQuestions();

            if (availableQuestions.length === 0) {
                questionTextElement.textContent = "All questions have been shown in this session!";
                questionTextElement.className = 'question-text no-question';
                questionNumberElement.textContent = "Session Complete";
                sessionInfoElement.innerHTML = `
                    <strong>Session Status:</strong><br>
                    All ${questions.length} questions have been displayed.<br>
                    Use "Clear Session" to start over with new questions.
                `;
                updateButtonStates();
                return;
            }

            // Select a random question from available questions
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            const selectedQuestion = availableQuestions[randomIndex];
            
            // Find the original index of the selected question
            const originalIndex = questions.indexOf(selectedQuestion);

            // Update shown questions
            const shownQuestions = getShownQuestions();
            shownQuestions.push(originalIndex);
            saveShownQuestions(shownQuestions);
            saveCurrentQuestion(selectedQuestion);

            // Display the question
            questionTextElement.textContent = selectedQuestion;
            questionTextElement.className = 'question-text';
            questionNumberElement.textContent = `Question ${shownQuestions.length} of ${questions.length}`;
            
            sessionInfoElement.innerHTML = `
                <strong>Session Status:</strong><br>
                Questions shown: ${shownQuestions.length} of ${questions.length}<br>
                Remaining questions: ${questions.length - shownQuestions.length}
            `;

            updateButtonStates();
        }

        // Function to update button states based on available questions
        function updateButtonStates() {
            const nextBtn = document.getElementById('nextBtn');
            const availableQuestions = getAvailableQuestions();

            if (availableQuestions.length === 0) {
                nextBtn.classList.add('disabled');
                nextBtn.textContent = 'No More Questions';
                nextBtn.onclick = null;
            } else {
                nextBtn.classList.remove('disabled');
                nextBtn.textContent = 'Next Question â†’';
                nextBtn.onclick = moveToNextQuestion;
            }
        }

        // Function to move to next question
        function moveToNextQuestion() {
            if (!currentCategory) {
                return; // No category selected
            }

            const availableQuestions = getAvailableQuestions();
            
            if (availableQuestions.length === 0) {
                return; // No more questions available
            }

            // Clear current question from session storage to allow new one
            sessionStorage.removeItem(CURRENT_QUESTION_KEY);
            
            // Add visual feedback
            const nextBtn = document.getElementById('nextBtn');
            const originalText = nextBtn.textContent;
            nextBtn.textContent = 'Loading...';
            nextBtn.style.background = 'linear-gradient(45deg, #f39c12, #e67e22)';
            
            setTimeout(() => {
                nextBtn.style.background = 'linear-gradient(45deg, #27ae60, #2ecc71)';
                displayRandomQuestion();
            }, 500);
        }

        // Function to clear session and refresh
        function clearSessionAndRefresh() {
            sessionStorage.removeItem(SHOWN_QUESTIONS_KEY);
            sessionStorage.removeItem(CURRENT_QUESTION_KEY);
            
            // Add a visual feedback
            const refreshBtn = document.getElementById('refreshBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            refreshBtn.style.background = 'linear-gradient(45deg, #e74c3c, #c0392b)';
            refreshBtn.textContent = 'âœ“ Session Cleared!';
            
            setTimeout(() => {
                refreshBtn.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
                refreshBtn.textContent = 'ðŸ”„ Clear Session';
                displayRandomQuestion();
            }, 1000);
        }

        // Function to initialize the page
        function initializePage() {
            // Check if there's a saved category
            const savedCategory = sessionStorage.getItem(CURRENT_CATEGORY_KEY);
            if (savedCategory && questionCategories[savedCategory]) {
                selectCategory(savedCategory);
            } else {
                updateCategorySelect();
                updateCategoryDisplay();
                displayRandomQuestion();
            }
            
            // Add some interactive effects
            const container = document.querySelector('.question-container');
            container.addEventListener('mouseenter', () => {
                container.style.background = 'rgba(255, 255, 255, 1)';
            });
            
            container.addEventListener('mouseleave', () => {
                container.style.background = 'rgba(255, 255, 255, 0.95)';
            });
        }

        // Initialize when the page loads
        document.addEventListener('DOMContentLoaded', initializePage);

        // Optional: Add keyboard shortcuts
        document.addEventListener('keydown', (event) => {
            if (event.target.matches('input, textarea')) return;
            
            switch(event.code) {
                case 'Space':
                case 'ArrowRight':
                case 'Enter':
                    event.preventDefault();
                    moveToNextQuestion();
                    break;
                case 'KeyR':
                case 'Escape':
                    event.preventDefault();
                    clearSessionAndRefresh();
                    break;
            }
        });
    </script>
</body>
</html>
